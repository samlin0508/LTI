<div class="stock-selector">
  <mat-form-field>
    <mat-label>股票代號</mat-label>

    <mat-select 
      [formControl]="stockControl"
      (selectionChange)="onStockSelectionChange($event)"
      placeholder="請選擇"
    >
      @for (option of entities; track option) {
        <mat-option [value]="option.id">{{ (`${option.id} ${option.name}`) }}</mat-option>
      }
    </mat-select>
  </mat-form-field>

  <mat-form-field>
    <mat-label>EPS 同期比較</mat-label>

    <mat-select 
      [formControl]="lastNYearsOfEpsYoyControl"
      (selectionChange)="onLastNYearsOfEpsYoySelectionChange($event)"
      placeholder="請選擇"
    >
      @for (option of lastNYearsOfEpsYoy; track option) {
        <mat-option [value]="option.id">{{ (`${option.name}`) }}</mat-option>
      }
    </mat-select>
  </mat-form-field>

  <mat-form-field>
    <mat-label>EPS vs 股利</mat-label>

    <mat-select 
      [formControl]="lastNYearsOfEpsVsDividendsControl"
      (selectionChange)="onLastNYearsOfEpsVsDividendsSelectionChange($event)"
      placeholder="請選擇"
    >
      @for (option of lastNYearsOfEpsVsDividends; track option) {
        <mat-option [value]="option.id">{{ (`${option.name}`) }}</mat-option>
      }
    </mat-select>
  </mat-form-field>
</div>

<h2>EPS 同期比較</h2>

<div 
  echarts 
  [options]="optionsEpsYoy"
  (chartInit)="onEpsYoyBarChartInit($event)"
></div>

<h2>EPS vs 股利</h2>

<div 
  echarts 
  [options]="optionsEpsVsDividends"
  (chartInit)="onEpsVsDividendsBarChartInit($event)"
></div>